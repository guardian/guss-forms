@import '_forms.config';

/*doc
---
title: Forms
name: forms
category: Common
---

```html_example
<form class="form">
    <fieldset class="fieldset">
        <div class="fieldset__heading">
            <h2 class="fieldset__headline">Form Heading</h2>
            <div class="fieldset__note">Form Note. Lorem ipsum dolor sit amet, consectetur adipisicing elit.</div>
        </div>
        <div class="fieldset__fields">
            <div class="form-field">
                <label class="label" for="field-1">Label</label>
                <input type="text" class="input-text" name="field-1" id="field-1">
            </div>
            <div class="form-field">
                <label class="label optional-marker" for="field-2">Another label</label>
                <input type="text" class="input-text" name="field-2" id="field-2">
                <div class="form-note">Lorem ipsum dolor sit amet</div>
            </div>
            <div class="form-field form-field--error">
                <label class="label" for="field-3">Error field</label>
                <input type="text" class="input-text" name="field-3" id="field-3">
                <p class="form-field__error-message">This field has an error</p>
            </div>
            <div class="form-field">
                <label class="label" for="option-one">
                    <input type="radio" class="pseudo-radio-input" name="field-4" id="option-one" value="option-one" checked="checked">
                    <div class="pseudo-radio">
                        <div class="pseudo-radio__header">Option one</div>
                        <p class="pseudo-radio__note">Lorem ipsum dolor sit amet</p>
                    </div>
                </label>
                <label class="label" for="option-two">
                    <input type="radio" class="pseudo-radio-input" name="field-4" id="option-two" value="option-two">
                    <div class="pseudo-radio">
                        <div class="pseudo-radio__header">Option two</div>
                        <p class="pseudo-radio__note">Consectetur adipisicing elit</p>
                    </div>
                </label>
            </div>
        </div>
    </fieldset>
    <fieldset class="fieldset">
        <div class="fieldset__heading">
            <h2 class="fieldset__headline">Payment options</h2>
            <div class="fieldset__note">
                <div class="credit-card-note">
                    <h3 class="credit-card-note__header">First payment</h3>
                    <p class="credit-card-note__body">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
                <div class="credit-card-note">
                    <h3 class="credit-card-note__header">Ongoing payments</h3>
                    <p class="credit-card-note__body">Donec quis rutrum tortor, id pretium massa. In hac habitasse platea dictumst.</p>
                </div>
                <div class="credit-card-note">
                    <h3 class="credit-card-note__header">Cancellation</h3>
                    <p class="credit-card-note__body">Imperdiet ut, congue laoreet quam. Donec finibus nisi sit amet.</p>
                </div>
            </div>
        </div>
        <div class="fieldset__fields">
            <div class="form-field">
                <label class="label" for="cc-num">Card number</label>
                <input type="tel" class="input-text" id="cc-num">
            </div>
            <div class="form-field">
                <label class="label" for="cc-cvc">Security code</label>
                <input type="tel" class="input-text input-text--small" id="cc-cvc">
                <div class="cvc">
                    <div class="cvc__image">
                        <img src="../src/images/cvc-card.png" alt="CVC explanation">
                    </div>
                    <div class="cvc__detail">
                        <h3 class="cvc__heading">Visa, Mastercard</h3>
                        <p class="cvc__body">The last 3 digits printed on the back within the signature strip</p>
                    </div>
                    <div class="cvc__image">
                        <img src="../src/images/cvc-card-american-express.png" alt="CVC explanation American Express">
                    </div>
                    <div class="cvc__detail">
                        <h3 class="cvc__heading">American Express</h3>
                        <p class="cvc__body">The 4 digits printed on the front above the card number</p>
                    </div>
                </div>
            </div>
            <div class="form-field">
                <label class="label" for="cc-exp-month"><span>Expiry</span></label>
                <select class="select" id="cc-exp-month">
                    <option selected="selected">Month</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
                <span> / </span>
                <select class="select" id="cc-exp-year">
                    <option selected="selected">Year</option>
                    <option value="2015">15</option>
                    <option value="2016">16</option>
                    <option value="2017">17</option>
                    <option value="2018">18</option>
                    <option value="2019">19</option>
                    <option value="2020">20</option>
                </select>
            </div>
        </div>
    </fieldset>
    <fieldset class="fieldset fieldset--simple">
        <div class="fieldset__heading"></div>
        <div class="fieldset__fields">
            <p class="form-legal">By joining Guardian Membership, you are agreeing to our <a href="#">Terms and Conditions</a> and <a href="#">Privacy Policy</a>.</p>
            <div class="actions">
                <button type="submit" class="button button--primary button--large">Submit</button>
            </div>
        </div>
    </fieldset>
</form>
```
*/

@import 'mixins';

/**
 * Fix a bug Internet Explorer 8 where text in password fields
 * would become invisible when `font-family` references a webfont.
 *
 * @group forms
 */
[type=password] {
    font-family: sans-serif !important;
}

/**
 * Default form styles
 *
 * @group forms
 */

// Form
// ============================================================================

.form {
    margin-bottom: 0;

    @include mq(desktop) {
        border-top: $pasteup-forms-form-border-top;
    }
}

// Form Fieldset
// ============================================================================

.fieldset {
    border: 0;
    padding: 0;
    margin: 0;
    border-bottom: $pasteup-forms-fieldset-border-bottom;
    display: table;
    background-color: $pasteup-forms-fieldset-background-colour;
}

.fieldset--simple {
    background-color: transparent;
    border-bottom: 0;

    .fieldset__fields {
        padding-top: rem($gs-gutter / 2);
    }
}

.fieldset--no-background {
    background-color: transparent;
}

.fieldset__heading {
    vertical-align: top;
    padding: rem($gs-baseline / 2) rem($gs-baseline) rem($gs-baseline * 2) rem($gs-gutter / 2);

    @include mq(tablet) {
        display: table-cell;
        @include box-sizing(border-box);
        width: gs-span(4) + $gs-gutter;
        padding-right: rem($gs-gutter * 2);
    }
}

.fieldset__headline {
    color: $pasteup-forms-fieldset-headline-colour;
    @include fs-header(3);
    margin: 0;
}

.fieldset__note {
    @include fs-textSans(2);
    color: $pasteup-forms-note-colour;
}

.fieldset__fields {
    vertical-align: top;
    padding: rem($gs-gutter / 2) rem($gs-gutter / 2) rem($gs-baseline * 2);

    @include mq(tablet) {
        display: table-cell;
        @include box-sizing(border-box);
        width: gs-span(5);
        padding-left: 0;
    }
}


// Form field
// ============================================================================

.form-field {
    margin-bottom: rem($gs-baseline);
}

.form-field--no-margin {
    margin-bottom: 0;
}

.form-field--error {
    .label {
        color: $pasteup-forms-error-label-colour;
    }

    .input-text,
    .input-text:focus,
    .input-textarea,
    .input-textarea:focus {
        border-color: $pasteup-forms-error-input-border-colour;
    }
}

.form-field__error-message {
    @include fs-data(3);
    color: $pasteup-forms-error-message-colour;
    margin-top: rem(2px);
    margin-bottom: rem($gs-baseline / 2);
}

.form-note {
    @include fs-textSans(1);
    color: $pasteup-forms-note-colour;
    padding-top: rem($gs-baseline / 2);
    margin-bottom: rem(8px);
}

.form-note--left {
    @include mq(tablet) {
        float: left;
    }
}

.form-note--right {
    @include mq(tablet) {
        text-align: right;
        margin-left: rem($gs-gutter);
    }
}

.form-note--underneath {
    margin-top: rem($gs-baseline / 2);
}

.form-legal {
    @include fs-textSans(3);
    color: $pasteup-forms-note-colour;
}

// Form labels and inputs
// ============================================================================

.label {
    @include fs-bodyCopy(2);
    color: $pasteup-forms-label-colour;
    cursor: pointer;
    display: block;
}

.label--inline {
    display: inline-block;
}

.input-text,
.input-textarea {
    color: $pasteup-forms-input-colour;
    border: 1px solid $pasteup-forms-input-border-colour;
    @include f-textSans;
    @include font-size(16px, 22px);
    padding: rem(8px) rem(8px) rem(7px);
    outline: none;
    @include box-sizing(border-box);
    width: 100%;
    -webkit-appearance: none;

    &:focus {
        border-color: $pasteup-forms-input-border-colour-focus;
    }

    @include mq(tablet) {
        font-size: rem(14px);
    }
}

.input-text--small {
    width: 30%;
}

.input-textarea {
    resize: vertical;
}

.input-textarea--long {
    min-height: rem(($gs-baseline / 3) * 40);
}

.optional-marker {
    &:after {
        vertical-align: middle;
        content: '(optional)';
        color: $pasteup-forms-note-colour;
        @include fs-textSans(1);
        margin-left: rem(4px);
    }
}

.select {
    font: inherit;
}

// width needed for iphone so select doesn't exceed screen width
.select--wide {
    width: 100%;
}

.select--minimal {
    border: 0;
    outline: 0;
    background-color: #ffffff;
    font-weight: bold;
}

// Psuedo radio form inputs
// ============================================================================

.pseudo-radio {
    @include box-sizing(border-box);
    width: 100%;
    border: $pasteup-forms-radio-border;
    padding: rem($gs-baseline) rem($gs-gutter) rem($gs-baseline) rem(36px);
    position: relative;

    &:hover {
        border: $pasteup-forms-radio-border-hover;
    }

    &:before {
        @include radio-circle($pasteup-forms-radio-colour);
    }
}

.pseudo-radio-input {
    display: none;

    &:checked + .pseudo-radio {
        border: $pasteup-forms-radio-border-checked;

        &:before {
            background-color: $pasteup-forms-radio-colour-checked;
        }
    }
}

.pseudo-radio__label {
    @include fs-bodyCopy(2);
    line-height: 1.2;
}

.pseudo-radio__header {
    @include fs-bodyHeading(2);
    line-height: 1.2;
    margin-bottom: rem($gs-baseline / 2);
}

.pseudo-radio__note {
    @include fs-textSans(3);
    margin: 0;
}

// Cvc
// ============================================================================

.cvc {
    font-family: $f-sans-serif-text;
    padding: rem($gs-baseline / 2) rem($gs-baseline / 2) rem($gs-baseline / 2) 0;
    font-size: rem(13px);
    line-height: rem(16px);
}

.cvc__image {
    float: left;
}

.cvc__detail {
    margin-left: rem(70px);
}

.cvc__heading {
    color: $pasteup-forms-label-colour;
    font-weight: bold;
    font-family: $f-sans-serif-text;
    font-size: rem(13px);
    line-height: rem(16px);
    margin: 0;
}

.cvc__body {
    color: $pasteup-forms-label-colour;
    margin-top: 0;
    margin-bottom: rem(16px);
}


// Credit card notes
// ============================================================================

.credit-card-note {
    color: $pasteup-forms-note-colour;
}

.credit-card-note__header {
    @include fs-textSans(3);
    color: $pasteup-forms-label-colour;
    margin: 0;
}

.credit-card-note__body {
    margin-top: 0;
}
